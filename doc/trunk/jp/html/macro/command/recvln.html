<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
  "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
  <title>recvln</title>
  <meta http-equiv="Content-Style-Type" content="text/css">
  <link rel="stylesheet" href="../../style.css" type="text/css">
</head>

<body>


<h1>recvln</h1>

<p>
一行分の文字を受信する。
</p>

<pre class="macro-syntax">
recvln
</pre>

<h2>解説</h2>

<p>
ホストから一行分の文字を受信し、システム変数 inputstr に格納する。<br>
このコマンドは一行受信するか、Tera Term とホストの通信が終了するか、タイムアウトが起きるまで待つ。
</p>

<p>
システム変数 timeout か mtimeout が 0 より大きい場合、&lt;timeout&gt;.&lt;mtimeout&gt; 秒の時間がすぎるとタイムアウトが発生する。タイムアウトの値が 0 以下の場合は、タイムアウトは発生しない。
</p>

<p>
もし、一行分の文字が受信された場合、システム変数 result に1が格納される。そうでない場合 result に0が格納される。
</p>

<h2>例</h2>

<pre class="macro-example">
; ログファイルを開く
fileopen file 'log.txt' 0
; 同期モードに入る
setsync 1
result=1

while result=1
  ; 一行受信
  recvln
  ; それをログファイルに書く
  filewriteln file inputstr
endwhile

; 非同期モードに入る
setsync 0
</pre>

<p>
同期モードについては "<a href="setsync.html">setsync</a>" を参照。
</p>

</body>
</html>
