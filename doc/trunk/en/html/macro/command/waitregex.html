<HTML>
<HEAD>
<TITLE>waitregex</TITLE>
<link rel="stylesheet" href="../../style.css" type="text/css">
</HEAD>
<BODY>

<DIV ALIGN="left">
<FONT SIZE="+2">waitregex</FONT><BR><BR>
</div>

Format:
<UL>
 <B>waitregex &lt;string1 with regular expression&gt; &lt;string2 with regular expression&gt; ...</B></UL>
<P></P>

Supports <A HREF="RE.txt">Oniguruma Regular Expressions</A>.
<P></P>

Pauses until the string (maximum 256 characters), which matches one or more character strings with regular expression is received from the host, or until the timeout occurs. Maximum number of the regular expression strings is 10.
<P></P>

If the system variable "timeout" is greater than zero, the timeout occurs when &lt;timeout&gt; seconds have passed. If the "timeout" is less than or equal to zero, the timeout never occurs.
<P></P>


The "waitregex" command returns one of the following values in the system variable "result":
<P></P>

<pre>
Value	Meaning
<hr>
0	Timeout. No string, which satisfies the condition, has been received.
1	&lt;string1 with regular expression&gt; has received.
2	&lt;string2 with regular expression&gt; has received.
n	&lt;stringn with regular expression&gt; has received. n=1..10.
</pre>
<P></P>

The received line is stored in the system variable "inputstr".
The first matched pattern is stored in the system variable "matchstr".
Group matched patterns of regular expressions are stored in 9 system variables from "groupmatchstr1" to "groupmatchstr9".
<P></P>

<pre>
Example:
	timeout = 30
	waitregex 'Longhorn' '.*@sai' 'Pentium\d+' 'TeraTermX{3}'
	int2str s result
	messagebox s 'result'
	messagebox inputstr 'inputstr'
	messagebox matchstr 'matchstr'
</pre>

</BODY>
</HTML>

