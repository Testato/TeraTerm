* Development Environment
- OS
  Windows XP Professional
- Compiler
  Visual Studio 2005 SP1 Standard Edition (or higher edition)
- Installer
  Inno Setup 5.2.0 (http://innosetup.org/isinfo.php)
  ISTool 5.1.8 (http://innosetup.org/isdl.php#qsp)
    It is included in QuickStart Pack 5.2.0.
  Japanese-5-5.1.11.isl (http://innosetup.org/files/istrans/)
- others
  ActivePerl 5.8 later version
    converts character-code and return-code of documents for building OpenSSL.


* Libraries
- oniguruma 5.9.0 (http://www.geocities.jp/kosako3/oniguruma/)
- openssl 0.9.8e (http://www.openssl.org/)
- zlib 1.2.3 (http://www.zlib.net/)


* Notice of CVS accessing
- CVS repository line code is LF.
  The line code may be crashed when WinCVS will misstake the configuration of line code. Sure, uncheck "Checkout text file with the Unix LF (0xa)" option.

- Japanese character code should be used Shift_JIS in commit log.

- Should not edit checkout file in copying directory.
  The other modification code may be deleted in CVS server when you commit checkout file. Also, fix it carefully when the conflicting occurs.

- Should not have opened checkout file.
  CVS commit procedure may be failure while checkout file will have been opened.


* How to build TeraTerm
  To build TeraTerm source code is shown in the following step:
  And you should use Visual Studio 2005 Standard Edition later version to build TeraTerm because TeraTerm program links MFC library (Visual Studio 2005 Express Edition can't be used).

  1. Checkout TeraTerm source code from SourceForge(http://sourceforge.jp/projects/ttssh2/).
  2. Download 'Oniguruma' source code(http://www.geocities.jp/kosako3/oniguruma/) and extract at 'teraterm\source\oniguruma' directory.

       - Automatic procedure of build is following step:
       Launch 'Visual Studio 2005 Command Prompt' batch file from start menu.
       Move 'teraterm\source' directory on the command prompt.
       Run buildoniguruma.bat.

       - Manual procedure of build is following step:
       Launch 'Visual Studio 2005 Command Prompt' batch file from start menu.
       Move 'teraterm\source\oniguruma' directory on the command prompt.
       And input the following command lines to build 'Oniguruma' regular expression library(links to onig_s.lib).
       (1) copy win32\Makefile Makefile
       (2) copy win32\config.h config.h
       (3) Open Makefile and append /MT at end of CFLAGS line.
       (4) copy Makefile Makefile.debug
       (5) Open Makefile.debug and modify CFLAG line from /MT to /MTd.
           And modify libname to debug\$(libbase)_s.lib.
       (6) mkdir debug
       (7) nmake -f Makefile.debug
       (8) nmake clean
       (9) nmake

  3. Open teraterm\visualc\ttermpro.sln with Visual Studio.
  4. Build TeraTerm solution.
  5. TeraTerm execution program will be generated in teraterm\visualc\bin directory if the building is successful.


* How to build TeraTerm Menu
  TeraTerm Menu is included in ttermpro.sln. Do "Build solution",
  TeraTerm Menu execution program will be generated in teraterm\source\ttmenu directory

* How to build TTProxy
  To build TTProxy source code is shown in the following step:
  And you need Visual Studio 2005(VC++8.0) to build.

  1. Checkout TeraTerm source code from SourceForge(http://sourceforge.jp/projects/ttssh2/).
  2. Open TTProxy\TTProxy.sln with Visual Studio.
  3. Build TTProxy solution.
  4. TTProxy DLL module will be generated in TTProxy directory if the building is successful.


* How to build TTSSH
  To build TTSSH source code is shown in the following step:
  And you need Visual Studio 2005(VC++8.0) and ActivePerl to build.

  1. Checkout TTSSH source code from SourceForge(http://sourceforge.jp/projects/ttssh2/).

  2. Extract zlib source code(http://www.zlib.net/) to ttssh2\zlib directory.
     The build target is 'Release' and TTSSH links to zlib\projects\visualc6\Win32_LIB_Release\zlib.lib (compile option /MT must be specified).
     The build target is 'Debug' and TTSSH links to  zlib\projects\visualc6\Win32_LIB_Release\zlibd.lib (compile option /MTd must be specified).

  3. Extract OpenSSL source code(http://www.openssl.org/) to ttssh2\openssl directory. Build OpenSSL in the following step(Release:TTSSH links to openssl\out32\libeay32.lib, Debug:openssl\out32.dbg\libeay32.lib):

      - Build OpenSSL automatically.
      + Launch 'Visual Studio 2005 Command Prompt' batch file from start menu.
      + Move 'ttssh2' directory on the command prompt.
      + Run buildopenssl.bat.

      - Build OpenSSL manually.
      + cd openssl
      + perl Configure VC-WIN32
          (Yes, you need perl to build OpenSSL!)
      + Open ms\do_ms.bat and append the following line at the next line of 'ms\nt.mak' line.
        "perl util\mk1mf.pl no-asm debug VC-WIN32 >ms\ntd.mak"
      + ms\do_ms
      + Open ms\nt.mak and modify CFLAG line from /MD to /MT.
      + Open ms\ntd.mak and modify CFLAG line from /MDd to /MTd.
      + nmake -f ms\nt.mak
      + nmake -f ms\ntd.mak
      + cd ..
          (Now you are back in ttssh2 folder.)
        See the instruction in the OpenSSL documentation for details.

  4. Open ttssh2\ttssh.sln with Visual Studio.
  5. Build TTSSH solution.
  6. TTSSH DLL will be generated in ttssh2\ttxssh directory if the building is successful.


* How to build CygTerm
  To build CygTerm source code is shown in the following step:

   1. Install Cygwin(http://www.cygwin.com/) to your PC.
   2. Launch Cygwin shell and go to teraterm\cygterm directory.
      # cd teraterm/cygterm
   3. Compile Cygterm.
      # make


* How to build HTML help file
  To build  HTML help file is shown in the following step:

  1. Intall HTML Help Workshop from below site:
     http://msdn.microsoft.com/library/default.asp?url=/library/en-us/htmlhelp/html/hwMicrosoftHTMLHelpDownloads.asp

  2. Copy document files with batch file on command prompt.
     > cd teraterm\insatller
     > convtext.bat

  3. Select Open of File menu and open doc\en\teraterm.hhp file or doc\jp\teratermj.hhp.

  4. Select Compile of File menu and HTML help file will be created.


* How to release TeraTerm installation package
  To release TeraTerm installation package is shown in the following step:

  1. Check latest libraries and tools.
    Visual Studio
      http://www.microsoft.com/japan/msdn/vstudio/downloads/default.aspx
    Inno Setup
      http://www.jrsoftware.org/isdl.php
      http://www.jrsoftware.org/files/istrans/
    Oniguruma
      http://www.geocities.jp/kosako3/oniguruma/
    OpenSSL
      http://www.openssl.org/
    zlib
      http://www.zlib.net/
    CygTerm
      http://www.dd.iij4u.or.jp/~nsym/cygwin/cygterm/
    LogMeTT
      http://www.neocom.ca/forum/viewtopic.php?t=567

  2. Increase the software version and modify date.
       ttermpro.rc
       ttxssh.rc
       ttmacro.rc // only modifying
       ttpmenu.rc // only modifying
       TTProxy.rc // only modifying
       ttxkanjimenu.rc // only modifying
       teraterm.iss
       html/about/hisotry.html
       Note: Don't update the version number until the release, because the installer does not overwrite file when versions are same.

  3. Evaluate executable program file.
       - Rebuild TeraTerm program
       - Make installer package
         Open "teraterm\installer\teraterm.iss" with ISTool and call [Project]-[Compile Setup] 
         with InnoSetup.
       - Test TeraTerm installation and evaluate it.

  4. Added CVS tag.
       The naming rule is `Rxxx_RTM'(ex. R450_RTM).

  5. Update SourceForge.jp project site.

  6. Update SourceForge.jp project home page.

  7. Announce release to mailing list(in Japan).

  8. Announce release to forum(in Canada).
       (1) Announcements http://www.neocom.ca/forum/viewforum.php?f=5
           Create new topic in `Announcements' entry.
           Change the type of previous Announcement from Announcement to Normal.
           Delete third previous Announcement.

       (2) TeraTerm Changelog http://www.neocom.ca/forum/viewtopic.php?t=3
           Added current modification.

       (3) TTSSH Changelog http://www.neocom.ca/forum/viewtopic.php?t=29
           Added current modification.

  9. Delete spanshots.
